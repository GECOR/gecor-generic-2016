<ion-navbar *navbar hideBackButton class="show-navbar android-attr">
  <!--<button [menuToggle]="activeMenu">
    <ion-icon name="menu"></ion-icon>
  </button>-->
  <ion-title>
    Incidents
  </ion-title>
</ion-navbar>


<ion-content class="incidents-page">

  <div padding>
    <ion-segment [(ngModel)]="type">
      <ion-segment-button value="list">
        List
      </ion-segment-button>
      <ion-segment-button (click)="showMap()" value="map">
        Map
      </ion-segment-button>
      <ion-segment-button value="gallery">
        Gallery
      </ion-segment-button>
    </ion-segment>
  </div>

  <!--<div id="map"></div>-->

  <div id="switch" [ngSwitch]="type">
    <ion-list *ngSwitchDefault>
      <ion-item *ngFor='#incident of incidents'>
        <ion-thumbnail item-left>
          <img src={{incident.img}}>
        </ion-thumbnail>
        <h2>{{incident.type}}</h2>
        <p>{{incident.route}}</p>
        <div [ngSwitch]=incident.state>
          <p danger *ngSwitchWhen="'Pendiente'">{{incident.state}}</p>
          <p secondary *ngSwitchWhen="'Terminada'">{{incident.state}}</p>
        </div>
        <button clear item-right (click)="openDetail(incident)">View</button>
      </ion-item>
    </ion-list>

    <div id="map" *ngSwitchWhen="'map'"></div>

    <div id="gallery" *ngSwitchWhen="'gallery'">
      <ion-card *ngFor='#incident of incidents'>
        <img src={{incident.img}}/>
        <ion-card-content>
          <div [ngSwitch]=incident.state>
            <h2 secondary class="card-title" *ngSwitchWhen="'Terminada'">
              {{incident.state}}
            </h2>
            <h2 danger class="card-title" *ngSwitchWhen="'Pendiente'">
              {{incident.state}}
            </h2>
          </div>

          <p>
            {{incident.route}}
          </p>
          <button clear item-right class="pull-right" (click)="openDetail(incident)">View</button>
        </ion-card-content>
      </ion-card>
    </div>

  </div>



</ion-content>
